jQuery.fn.extend({ui_tabs:function(a){var b=$(this);this.each(function(){var c=$(this);var e={event:"click",type:"index",preventClick:true,showEffect:false};$.copyValue(a,e);var g=c.find(".ui_tabs_titles li, .ui_tabs_trigger");var f=g.find("a");var d=c.find(".ui_tabs_content");if(e.preventClick){f.bind("click",function(h){h.preventDefault()})}g.bind(e.event,function(n,p){var l=$(this);var h;var k=false;var m=$.inArray(this,g);if(e.type=="index"){if(d){h=d.eq(m)}}else{if(e.type=="target"){var o=l.find("a");var i=o.attr("href");if(i&&i!=="#"){if(i.substring(0,1)==="#"){h=$(i)}else{if(e.ajaxOption){k=true;if(e.ajaxOption.content){h=$(e.ajaxOption.content)}}}}else{return}}}if(h||e.ajaxOption){g.removeClass("selectedItem");l.addClass("selectedItem");if(e.showEffect){d.filter(".selectedContent").fadeOut("fast")}d.removeClass("selectedContent");if(h){if(!p){b.trigger($.ui_change,[m])}h.addClass("selectedContent");if(e.showEffect){h.fadeIn("fast")}if(e.floatOption){var j=new Object();j.of=l;$.copyValue(e.floatOption.positionOption,j);h.css("position","absolute");h.css("z-index","10");h.position(j);h.position(j);c.hover(function(q){},function(q){l.removeClass("selectedItem");if(e.showEffect){h.fadeOut("fast")}h.removeClass("selectedContent")})}}if(k){if(!e.ajaxOption){e.ajaxOption=new Object()}e.ajaxOption.url=i;$.ajaxLoad(e.ajaxOption)}}});g.filter(".selectedItem").trigger(e.event);c.bind($.ui_bindChange,function(i,h){g.eq(h).trigger(e.event,1);return false})});return this},ui_switch:function(a){var b=$(this);this.each(function(){var m=$(this);var d={time:3000,changeTime:400,currentIndex:0,isAuto:true,showIndex:true,eq:true};$.copyValue(a,d);var t,s,x,r,n,v,l=false,p=-1;var q=m.find(".ui_switch_list li");var j=m.find(".ui_switch_index");var i=m.find("ui_switch_panel");var z;v=q.length;var o=m.width();var u=m.height();var g=function(){q.find("img").ui_scale({targetX:o,targetY:u,eq:d.eq})};var y=function(){if(v<=1){d.showIndex=false}if(d.showIndex){var h="<ul>";for(var w=1;w<=v;w++){h+="<li>"+w+"</li>"}h+="</ul>";j.append(h)}z=j.find("li")};var e=function(h,w){if(l){p=h;return}if(d.currentIndex==h){return}if(t){l=true;t.fadeOut(d.changeTime);setTimeout(function(){if(p!=-1){h=p;p=-1}x=q.eq(h);r=z.eq(h);t.css("display","none");s.removeClass("selectedItem");r.addClass("selectedItem");d.currentIndex=h;t=x;s=r;if(!w){b.trigger($.ui_change,[h])}x.fadeIn(d.changeTime,function(){t.css("display","block");l=false;if(p!=-1){e(p)}})},d.changeTime-20)}else{d.currentIndex=h;t=q.eq(h);s=z.eq(h);q.css("display","none");t.css("display","block");s.addClass("selectedItem")}};var f=function(){var h=d.currentIndex;h+=1;if(h>=v){h=0}if(h!=d.currentIndex){e(h)}};var c=function(){if(d.isAuto){if(n){clearInterval(n)}n=setInterval(f,d.time)}};var A=function(){z.each(function(h){$(this).hover(function(w){if(n){clearInterval(n)}e(h)},function(w){c()})})};var k=function(){m.hover(function(h){if(n){clearInterval(n)}},function(h){c()})};g();q.css("display","none");$(q[0]).css("display","block");y();e(d.currentIndex);A();k();c();m.bind($.ui_bindChange,function(w,h){if(h>=0&&h<v){e(h,1)}return false})});return this},ui_tumble:function(a){var b=$(this);this.each(function(){var p=$(this);var d={time:3000,changeTime:300,isAuto:true,changeSize:"100px",changeType:"left",event:"click",preventClick:true};$.copyValue(a,d);var k,g,q,o,l=false;k=p.find(".ui_tumble_list");var j=k.find("li");for(var f=0;f<j.length;f++){$(j[f]).attr("data-index",f)}k.append(j.clone(true));k.prepend(k.find("li:last-child"));var r=function(){g=k.find("li:first-child");q=k.find("li:last-child")};r();var m=function(i){k.find("li").removeClass("ui_tumble_selected");k.find("li[data-index="+i+"]").addClass("ui_tumble_selected")};k.find("li").bind(d.event,function(u){var i=$(u.currentTarget);var t=i.attr("data-index");m(t);b.trigger($.ui_change,[t])});k.find("li a").bind("click",function(i){if(d.preventClick){i.preventDefault()}});if(d.changeType=="right"||d.changeType=="bottom"){k.css($.contrary(d.changeType),"-"+d.changeSize)}else{k.css(d.changeType,"-"+d.changeSize)}var c=function(u){if(!l){l=true;var i=u;var w="-=";var v="+=";if(u=="right"||u=="bottom"){w="+=";v="-=";i=$.contrary(u)}var x=new Object();x[i]=w+d.changeSize;k.animate(x,{duration:d.changeTime,complete:function(t){if(u=="left"||u=="top"){g.insertAfter(q)}else{if(u=="right"||u=="bottom"){q.insertBefore(g)}}x[i]=v+d.changeSize;k.animate(x,0);r();l=false}})}};var s=function(){c(d.changeType)};var e=function(){if(d.isAuto){if(o){clearInterval(o)}o=setInterval(s,d.time)}};var h=function(){p.find(".ui_tumble_left").bind("click",function(i){c("left");e()});p.find(".ui_tumble_right").bind("click",function(i){c("right");e()});p.find(".ui_tumble_top").bind("click",function(i){c("top");e()});p.find(".ui_tumble_bottom").bind("click",function(i){c("bottom");e()})};var n=function(){k.find("li").each(function(t){$(this).hover(function(i){if(o){clearInterval(o)}},function(i){e()})})};h();n();e();p.bind($.ui_bindChange,function(t,i){m(i);return false})});return this},ui_scale:function(b){var a={targetX:0,targetY:0,eq:true};$.copyValue(b,a);this.each(function(){var c=$(this);var d=$.equalScale({targetX:a.targetX,targetY:a.targetY,sourceX:c.width(),sourceY:c.height()});if(!a.eq){d.scaleX=a.targetX;d.scaleY=a.targetY}c.width(d.scaleX);c.height(d.scaleY);c.css("margin-left",(d.targetX-d.scaleX)/2);c.css("margin-top",(d.targetY-d.scaleY)/2)});return this},ui_prompt:function(a){this.each(function(){var c=$(this);var d=new Object();$.copyValue(a,d);c.unbind("focusin");c.unbind("focusout");if(c.attr("value")===c.attr("data-prompt")){c.attr("value","")}if(d.prompt){c.attr("data-prompt",d.prompt)}c.bind("focusin",function(f){if(c.attr("value")===c.attr("data-prompt")){c.attr("value","")}c.removeClass("ui_prompt_font")});var b=function(f){if(!c.attr("value")){c.addClass("ui_prompt_font");c.attr("value",c.attr("data-prompt"))}};c.bind("focusout",b);b()});return this},ui_paper:function(a){this.each(function(){var j=$(this);var b={pagesize:10,current:1,count:0};$.copyValue(a,b);var q=parseInt((b.count-1)/b.pagesize+1);var d,o,m,i,p,l,k,t;var r=function(){var e="";e+=u("上一页","ui_paper_prep",n(b.current-1));k=b.current-5;t=b.current+5;if(k<1){t-=k}if(t>q){k-=t-q}k=Math.max(1,k);t=Math.min(t,q);for(var s=k;s<=t;s++){e+=u(s,"ui_paper_num",n(s))}e+=u("下一页","ui_paper_next",n(b.current+1));e+="<select class='select ui_paper_select'>";for(s=1;s<=q;s++){if(s===b.current){e+="<option value='"+s+"' selected>第"+s+"页</option>"}else{e+="<option value='"+s+"'>第"+s+"页</option>"}}e+="</select>";j.empty();j.append(e);d=j.find(".ui_paper_first");prev=j.find(".ui_paper_prep");m=j.find(".ui_paper_next");i=j.find(".ui_paper_last");p=j.find(".ui_paper_num");l=j.find(".ui_paper_select")};var g=function(){if(b.current<=1){d.addClass("disabled");prev.addClass("disabled")}if(b.current>=q){m.addClass("disabled");i.addClass("disabled")}p.removeClass("selected");if(p.eq(b.current-k)){p.eq(b.current-k).addClass("selected")}l.unbind("change");l.bind("change",function(v){var s=n(l.attr("value"));document.location.href=s})};var f=function(){if(b.ajaxOption){var e=j.find("a");e.bind("click",function(x){x.preventDefault();var v=x.currentTarget;var w=v.attr("href");h(w)});var s=j.find("select");s.unbind("change");s.bind("change",function(w){var v=n(l.attr("value"));h(v)})}};var h=function(e){if(e&&e!=="#"){if(!b.ajaxOption){b.ajaxOption=new Object()}b.ajaxOption.url=e;$.ajaxLoad(b.ajaxOption);var s=paramSplit(e);if(s.index){b.current=s.index}if(s.pagesize){b.pagesize=s.pagesize}c()}};var u=function(v,s,e){return"<a href='"+e+"' class='button "+s+"'>"+v+"</a>"};var n=function(s){var e=b.url;if(e.indexOf("?")!=-1){e+="&"}else{e+="?"}e+="pagesize="+b.pagesize+"&index="+s;return e};var c=function(){r();g();f()};c()});return this},ui_class:function(c){var a={type:"add",start:1,step:1};$.copyValue(c,a);var b=a.className;$.each(this,function(d,f){var e=b.replace("&x",a.start+d*a.step);if(a.type=="add"){$(f).addClass(e)}else{if(a.type=="remove"){$(f).removeClass(e)}}});return this},ui_styles:function(b){var a={};$.copyValue(b,a);if(a.props){$.each(this,function(d,c){var e=$(c);$.each(a.props,function(g,o){var m="",k="",i="px";if(a.start&&a.start[g]){m=a.start[g]}if(a.step&&a.step[g]){k=a.step[g]}if(a.units&&a.units[g]){i=a.units[g]}var h=m.split(" ");var f=k.split(" ");var l="";$.each(h,function(j,n){l+=(parseInt(n)+parseInt(f[j])*d)+i+" "});e.css(o,l)})})}return this},ui_htmlloader:function(a){this.each(function(){var b=$(this);var c={};$.copyValue(a,c);$.ajaxLoad({url:c.url,callback:function(d){b.replaceWith(d)}})});return this},ui_fixed:function(a){var b=$(this);this.each(function(){var c=$(this);var g=c.clone(true,true);g.attr("id",c.attr("id")+"1");g.hide().appendTo($(document.body)).css("width",c.css("width")).css("height",c.css("height"));var i=function(k,l){$.each(k.find("input, span, td"),function(n,p){var o=$(p);var m=l.find("#"+o.attr("id"));if(m[0]){m.val(o.val());m.text(o.text());if(o.is("checkbox")||o.is("radio")){if(o.attr("checked")=="checked"){m.attr("checked",true)}else{m.attr("checked",false)}}}})};var f={at:"top",of:"body",offset:0};$.copyValue(a,f);var d=$(f.of);var j=function(){var k=$(window).scrollTop();var l=c.offset().top;if(k>l&&k<=(l+d.height())){if(jQuery.browser.msie&&jQuery.browser.version=="6.0"){g.css({position:"absolute",top:$(window).scrollTop()+f.offset,left:c.offset().left})}else{g.css({position:"fixed",top:0+f.offset,left:c.offset().left-$(window).scrollLeft()})}g.show()}else{i(g,c);g.hide()}};var e=function(){var k=$(window).scrollTop()+$(window).height();var l=c.offset().top+c.height();if(k<l&&d.offset().top<k-c.height()){if(jQuery.browser.msie&&jQuery.browser.version=="6.0"){g.css({position:"absolute",top:k-c.height()-f.offset,left:c.offset().left})}else{g.css({position:"fixed",bottom:0+f.offset,left:c.offset().left-$(window).scrollLeft()})}g.show()}else{i(g,c);g.hide()}};var h=function(){if(f.at=="top"){j()}else{if(f.at=="bottom"){e()}}};$(window).scroll(h);$(window).resize(function(){if(g.outerWidth()!=c.outerWidth()){g.width(c.outerWidth())}g.css("left",c.offset().left)});c.bind("refresh",function(l){var k=$(l.currentTarget);if(k.attr("id")==g.attr("id")){return}i(c,g)});h()})},ui_star:function(a){var b=$(this);this.each(function(){var e=$(this);var h={hue:5,count:5,selectable:true};$.copyValue(a,h);var c=Math.max(h.hue,h.count);e.attr("data-value",h.hue);var k="<a style='cursor:pointer;'>";for(var g=1;g<=c;g++){if(g<=h.hue){k+="<span class='icons_12 icon_star1' data-index='"+g+"'>&nbsp;</span>"}else{k+="<span class='icons_12 icon_star2' data-index='"+g+"'>&nbsp;</span>"}}k+="</a>";var f=$(k);e.append(f);var j=f.find("span");var d=function(i){$.each(j,function(l,n){var m=$(n);var o=m.attr("data-index");if(i>=o){m.addClass("icon_star1");m.removeClass("icon_star2")}else{m.addClass("icon_star2");m.removeClass("icon_star1")}})};if(h.selectable){j.click(function(m){var l=$(m.currentTarget);var i=l.attr("data-index");d(i);e.attr("data-value",i);if(h.callback){h.callback(i)}})}})}});jQuery.extend({ui_change:"uiChangeEvent",ui_bindChange:"uiBindChangeEvent",ui_bind:function(a){$.each(a,function(d,b){var c=b;c.bind($.ui_change,function(g,f){$.each(a,function(h,e){if(c!=e){e.trigger($.ui_bindChange,[f])}})})})},ajaxUrl:function(a){if(a.indexOf("?")!=-1){a+="&_view=async"}else{a+="?_view=async"}return a},ajaxLoad:function(b){var a={};$.copyValue(b,a);a.url=$.ajaxUrl(a.url);var c=function(e){if(a.callback){a.callback(e)}if(a.content){var d=$(a.content);d.empty();d.append(e)}};a.success=function(d){c(d)};$.ajax(a)},copyValue:function(b,c){for(var a in b){c[a]=b[a]}},paramSplit:function(a){var d=new Object();var f=a.split("?")[1];if(f){var e=f.split("&");for(var b=0;b<e.length;b++){var c=e[b].split("=");d[c[0]]=c[1]}}return d},contrary:function(a){switch(a){case"left":return"right";break;case"right":return"left";break;case"top":return"bottom";break;case"bottom":return"top";break}return a},fiveStar:function(b,d){var a=Math.max(b,d);for(var c=1;c<=a;c++){if(c<=b){document.write("<span class='icons_12 icon_star1'>&nbsp;</span>")}else{if(c-b<1){document.write("<span class='icons_12 icon_star3'>&nbsp;</span>")}else{document.write("<span class='icons_12 icon_star2'>&nbsp;</span>")}}}},equalScale:function(a){if(a.sourceX==0||a.sourceY==0){a.scaleX=a.targetX;a.scaleY=a.targetY;return a}if(a.targetX==0||a.targetY==0){a.scaleX=0;a.scaleY=0;return a}var b=a.targetX/a.sourceX;b=Math.min(a.targetY/a.sourceY,b);a.scaleX=a.sourceX*b;a.scaleY=a.sourceY*b;return a}});String.prototype.trim=function(){var a=/(^\s*)|(\s*$)/g;return this.replace(a,"")};function ready(a){$(document).ready(a)}var domain=document.domain;if(domain.indexOf("xinshangmeng.com")!=-1){document.domain="xinshangmeng.com"};